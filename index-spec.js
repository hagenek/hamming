const chai = require("chai");
const assert = chai.assert;
chai.config.truncateThreshold = 0;

const { encode, decode } = require('./index');

describe("Test encode function", function() {
  it("Should work with short word", function() {
    assert.deepEqual(encode("hey"), "000111111000111000000000000111111000000111000111000111111111111000000111");
  });
  it("Should work with long word", function() {
    assert.deepEqual(encode("The Sensei told me that i can do this kata"), "000111000111000111000000000111111000111000000000000111111000000111000111000000111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000111111000000111000111000111111000111000000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000000000000111000000000000000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000000000111000111111111000111000000000000111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000000000111111000000111000000000111111000111111111111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111");
  });
  it("Should work with numbers", function() {
    assert.deepEqual(encode("T3st"), "000111000111000111000000000000111111000000111111000111111111000000111111000111111111000111000000");
  });
  it("Should work with special characters", function() {
    assert.deepEqual(encode("T?st!%"), "000111000111000111000000000000111111111111111111000111111111000000111111000111111111000111000000000000111000000000000111000000111000000111000111");
  });
});

describe ("Test decode function", function() {
  it("Should work with short word", function() {
    assert.deepEqual(decode("100111111000111001000010000111111000000111001111000111110110111000010111"), "hey");
  });
  it("Should work with long word", function() {
    assert.deepEqual(decode("000111000111000111000100000111111000111000001000000111111000000111000111000100111000000000000000000111000111000000111111000111111000000111000111000111111000111111111000000111111111000000111111000110111000010111000111000111111000111001000111000000111000000000000000000111111111000111000000000111111000111111111111000111111000111111000000000111111000000111000001000000111000000000001000000111111000111111000111000111111000000111000111000000111000000000000000000111111111000111000000000111111000111000000000000111111000000010000111000111111111000111000000000100111000000000000000000111111000111000000111000000111000000000000000000111111000000000111111000111111000000000000111000111111000111111111000000000111000000000000010000111111000000111000000000111111000111111110111000000111000000000000000000111111111000111000000000111111000111000000000000111111000111000000111000111111111000000111111000000111000000000000000000111111000111000111111000111111000000000000111000111111111000111000000000111111000000000000111"), "The Sensei told me that i can do this kata");
  });
  it("Should work with numbers", function() {
    assert.deepEqual(decode("000111000111000111000001000000111111000000111111000111111111000000111011000111111111000111000000"), "T3st");
  });
  it("Should work with special characters", function() {
    assert.deepEqual(decode("000111000111000111000010000000111111111111011111000111111111000000111111000111101111000111000000000000111000000000000111000000111000000111000111"), "T?st!%");
  });
});